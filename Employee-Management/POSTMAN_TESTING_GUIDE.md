# Employee Management API - Testing Guide

## Server Status
âœ… **Server is running on:** `http://localhost:8080`

## H2 Database Console
- **URL:** http://localhost:8080/h2-console
- **Driver:** org.h2.Driver
- **Database URL:** jdbc:h2:mem:testdb
- **Username:** sa
- **Password:** (leave empty)

## API Endpoints

### 1. Save Employee (POST)
**URL:** `http://localhost:8080/employee/save`

**Method:** `POST`

**Headers:**
```
Content-Type: application/json
```

**Request Body:**
```json
{
  "name": "John Doe",
  "email": "john@example.com",
  "salary": 50000.00
}
```

**Expected Response (201 Created):**
```json
{
  "id": 1,
  "name": "John Doe",
  "email": "john@example.com",
  "salary": 50000.0
}
```

---

### 2. Get All Employees (GET)
**URL:** `http://localhost:8080/employee/all`

**Method:** `GET`

**Headers:**
```
Content-Type: application/json
```

**Expected Response (200 OK):**
```json
[
  {
    "id": 1,
    "name": "John Doe",
    "email": "john@example.com",
    "salary": 50000.0
  },
  {
    "id": 2,
    "name": "Jane Smith",
    "email": "jane@example.com",
    "salary": 60000.0
  }
]
```

---

### 3. Delete Employee (DELETE)
**URL:** `http://localhost:8080/employee/delete/1`

**Method:** `DELETE`

**Expected Response (200 OK):**
```
Deleted
```

---

## Steps to Test in Postman

### Step 1: Download and Install Postman
- Download from: https://www.postman.com/downloads/
- Install and open Postman

### Step 2: Create a New Collection
1. Click "+" to create a new request
2. Name it "Employee Management API"

### Step 3: Test Save Employee Endpoint
1. **URL:** http://localhost:8080/employee/save
2. **Method:** POST
3. **Headers:**
   - Key: `Content-Type`
   - Value: `application/json`
4. **Body (raw JSON):**
   ```json
   {
     "name": "John Doe",
     "email": "john@example.com",
     "salary": 50000.00
   }
   ```
5. Click **Send**
6. You should see a 200 response with the saved employee data

### Step 4: Test Get All Employees Endpoint
1. **URL:** http://localhost:8080/employee/all
2. **Method:** GET
3. Click **Send**
4. You should see a 200 response with all employees in the database

### Step 5: Test Delete Employee Endpoint
1. **URL:** http://localhost:8080/employee/delete/1
2. **Method:** DELETE
3. Click **Send**
4. You should see "Deleted" response

### Step 6: Verify Data in H2 Database Console
1. Open browser: http://localhost:8080/h2-console
2. Connection settings:
   - Driver Class: org.h2.Driver
   - JDBC URL: jdbc:h2:mem:testdb
   - User Name: sa
   - Password: (empty)
3. Click **Connect**
4. Run SQL: `SELECT * FROM EMPLOYEE;`
5. You should see all saved employees

---

## Test Data Examples

### Employee 1
```json
{
  "name": "Alice Johnson",
  "email": "alice@company.com",
  "salary": 75000.00
}
```

### Employee 2
```json
{
  "name": "Bob Wilson",
  "email": "bob@company.com",
  "salary": 65000.00
}
```

### Employee 3
```json
{
  "name": "Charlie Brown",
  "email": "charlie@company.com",
  "salary": 55000.00
}
```

---

## Troubleshooting

### Issue: Connection Refused
- Make sure the Spring Boot server is running (you should see "Started EmployeeApplication")
- Check if port 8080 is not blocked

### Issue: H2 Console Not Found
- Make sure the project includes H2 console dependency
- Add to pom.xml if missing: `spring-boot-starter-data-h2`

### Issue: Data Not Persisting
- H2 in-memory database resets when server restarts
- To persist data, change database URL in application.properties:
  ```
  spring.datasource.url=jdbc:h2:file:./data/testdb
  ```

---

## Database Table Structure

```sql
CREATE TABLE employee (
  salary float(53) NOT NULL,
  id bigint GENERATED BY DEFAULT AS IDENTITY,
  email varchar(255),
  name varchar(255),
  PRIMARY KEY (id)
);
```

---

## Notes
- Server runs on port 8080
- H2 database is in-memory by default (data is lost on server restart)
- All timestamps are in IST (Indian Standard Time +05:30)
- Employee ID is auto-generated by the database

